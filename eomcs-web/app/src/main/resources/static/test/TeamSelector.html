<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
#x-counter {
  font-size: 40px;
  font-weight: bold;
}

div {
  margin: 10px;
}
.x-team {
  display: inline-block;
  background-color: #F9E79F;
  border: 3px solid #85C1E9 ;
  width: 150px;
  height: 180px;
}

.x-selected {
  background-color: #85C1E9;
  border: 3px solid  #F9E79F;
  color: white;
}


</style>
</head>
<body>
<h1>팀 선택!</h1>
<div>
<button id="x-start-btn">시작!</button> <br>
<span id="x-counter"></span>
</div>
<div id="x-teams">
<div class="x-team">
  <header>놀당갑서</header>
  <ul>
    <li>조원석</li>
    <li>전영민</li>
    <li>김민수</li>
    <li>김기현</li>
    <li>강동우</li>
    <li>정창성</li>
  </ul>
</div>
<div class="x-team">
  <header>deVela</header>
  <ul>
    <li>장창훈</li>
    <li>오승지</li>
    <li>최리나</li>
    <li>장효범</li>
    <li>박력</li>
    <li>임성현</li>
  </ul>
</div>
<div class="x-team">
  <header>NULL</header>
  <ul>
    <li>허정윤</li>
    <li>오민현</li>
    <li>채다해</li>
    <li>서영범</li>
    <li>이장일</li>
    <li></li>
  </ul>
</div>
<div class="x-team">
  <header>BTS</header>
  <ul>
    <li>정요섭</li>
    <li>곽민규</li>
    <li>박경현</li>
    <li>명준호</li>
    <li>김재원</li>
    <li>이상준</li>
  </ul>
</div>
<div class="x-team">
  <header>Debugger</header>
  <ul>
    <li>김지현</li>
    <li>한상은</li>
    <li>김규범</li>
    <li>양성은</li>
    <li>양승범</li>
    <li>김주은</li>
  </ul>
</div>
</div>

<h2>발표할 팀 순서</h2>
<div id="x-presentation-teams"></div>
<script>

var counter = document.querySelector("#x-counter");
var presentationTeamsDiv = document.querySelector("#x-presentation-teams");
var currIndex = -1;

document.querySelector("#x-start-btn").addEventListener("click", function() {

	var teamDivs = document.querySelectorAll("#x-teams .x-team");
	if (teamDivs.length == 0) {
		return;
	}

	console.log(teamDivs.length)
	counter.innerHTML = "2";

	var intervalId = window.setInterval(function() {
		  var index = parseInt((Math.random() * teamDivs.length));

		  if (currIndex != index) {
		    if (currIndex != -1) {
		      teamDivs[currIndex].classList.remove("x-selected");
		    }
		    teamDivs[index].classList.add("x-selected");
		    currIndex = index;
		  }
		}, 100);

	var intervalId2 = window.setInterval(function() {
		  counter.innerHTML = parseInt(counter.innerHTML) - 1;
		  if (counter.innerHTML == "0") {
			  window.clearInterval(intervalId);
			  window.clearInterval(intervalId2);
			  presentationTeamsDiv.appendChild(teamDivs[currIndex]);
			  teamDivs[currIndex].classList.remove("x-selected");
			  currIndex = -1;
			  if (teamDivs.length == 2) {
				  presentationTeamsDiv.appendChild(teamDivs[currIndex == 1 ? 0 : 1]);
			  }
			  console.log(teamDivs.length);
		  }
	}, 1000);
});


</script>






</body>
</html>

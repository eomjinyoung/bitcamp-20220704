<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>exam</title>
  <style>
  #d1 {
    border: 1px solid red;
    min-height: 200px;
  }
  </style>
</head>
<body>
  <h1>Handlebars 사용전</h1>
  <button id="btn1" type="button">script 태그의 HTML을 읽어서 div에 넣기</button>
<div id="d1"></div>

<script id="t1" type="text/x-handlebars-template">
<table border="1">
<tbody>
  <tr>  
    <th>번호</th>  
    <td>{{no}}</td>
  </tr>
  <tr>  
    <th>제목</th>  
    <td>{{title}}</td>
  </tr>
  <tr>  
    <th>작성자</th>  
    <td>{{writer}}</td>
  </tr>
</tbody>
</table>
</script>

<script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
<script>
var data = {
  no:1, 
  title:"제목1", 
  writer:"홍길동"
};

document.querySelector("#btn1").onclick = () => {
  //1) Handlebars 템플릿 엔진이 사용할 HTML 소스를 준비한다.
  //   - 보통 script 태그에 작성한 HTML 소스를 가져온다.
  var templateSrc = document.querySelector("#t1").innerHTML;
  
  //2) 템플릿 소스와 데이터를 가지고 HTML을 생성할 함수를 준비한다.
  var htmlGenerator = Handlebars.compile(templateSrc);
  
  //3) 템플릿을 처리하는 함수를 호출한다.
  //   - 이 함수는 파라미터로 받은 데이터를 사용하여 템플릿 소스의 지정된 위치에 값을 삽입한다.
  //   - 그리고 최종 생성된 HTML을 리턴한다.
  var html = htmlGenerator(data);
  
  //4) 템플릿 함수가 리턴한 HTML을 div 태그에 넣는다.
  document.querySelector("#d1").innerHTML = html;
};



</script>
</body>
</html>
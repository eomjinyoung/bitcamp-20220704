<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex03</title>
</head>
<body>
<h1>자바스크립트 주요 함수 - JSON.parse(JSON형식문자열)</h1>
<textarea id="ta" cols="80" rows="10"></textarea>
<button id="btn1">실행</button>
<script>
"use strict"
// eval()은 일반적인 자바스크립트 코드를 실행할 때 사용하는 메서드이다.
// 물론 이전 예제에서 본 것처럼 객체를 생성하는 용도로도 사용할 수 있다.
// 여기서 객체를 생성하는 쪽으로 특화시킨 API가 있으니,
// JSON 객체이다.
// JSON 객체는 JSON 형식으로 된 문자열을 읽어 자바스크립트 객체를 생성한다.
//
// JSON(JavaScript Object Notation) 형식?
// => 자바스크립트에서 객체를 생성할 때 사용하는 중괄호 {} 문법을 말한다.
// => 단 자바스크립트의 원래 문법에서 제약 사항을 추가하였다.
// => 제약사항!
//    1) 문자열은 반드시 큰 따옴표("")를 사용해야 한다.
//       작은 따옴표('')는 사용할 수 없다.
//    2) 객체 프로퍼티명은 반드시 문자열로 표기해야 한다.
//       즉 큰 따옴표 안에 프로퍼티 명을 넣어야 한다.
// => JSON 형식은 XML 형식 보다 간결해서 프로그램 간에 데이터를 주고 받을 때 많이 사용한다.
// => JSON 형식은 XML 처럼 대부분의 프로그래밍 언어를 위한 라이브러리가 많이 있기 때문에
//    이기종 언어간 데이터 교환에 많이 사용한다.
//    즉 C로 짠 프로그램과 Java로 짠 프로그램 끼리도 쉽게 데이터를 주고 받을 수 있다.
//    왜?
//    - 문자열은 모든 프로그래밍 언어가 처리할 수 있고,
//    - 대부분의 프로그래밍 언어를 위한 JSON 라이브러리가 존재하기 때문이다.
//
// 용도:
// => 서버에서 웹브라우저 쪽으로 데이터를 보낼 때 JSON 형식의 문자열로 만들어 보낸다.
// => 웹브라우저는 서버로부터 받은 JSON 문자열을 자바스크립트 객체로 만들어 사용한다.
//
var ta = document.getElementById("ta");

document.getElementById("btn1").onclick = () => {
	var str = ta.value;
  var obj = JSON.parse(str); // JSON 형식의 문자열 ===변환===> 자바스크립트 객체
	console.log(obj);

	// 1) 단일 객체 생성
	// => eval과 달리 객체 생성 문법인 중괄호{}를 괄호 ()로 감쌀 필요가 없다.
	/* 입력 값 예)
	{
	"name": "홍길동",
	"age": 20,
	"tel": "1111-1111"
	}
    */

    // 2) 배열 객체 생성
    // => 배열 코드는 괄호 안에 넣을 필요가 없다.
    /* 입력 값 예)
    ["홍길동", "임꺽정",100,true,null]
    */
};

</script>

</body>
</html>
